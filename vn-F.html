<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Always You ğŸ’˜</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Sacramento&display=swap" rel="stylesheet">
<style>
:root{
  --card:#fff6fa;
  --accent:#ff8fab;
  --accent-dark:#e11d48;
  --text:#7a2845;
  --heart-light:#ffbad0;
}
*{box-sizing:border-box;}
html, body { margin:0; padding:0; width:100%; height:100%; font-family:'Poppins',sans-serif; color:var(--text); overflow:hidden; }
.page { position:absolute; inset:0; display:none; justify-content:center; align-items:center; transition: background 0.5s ease; }
.page.active { display:flex; flex-direction:column; }

/* Card styling */
.card { background:var(--card); padding:32px 42px; border-radius:28px; width:95%; max-width:620px; text-align:center; box-shadow:0 30px 60px rgba(255,105,135,.25); display:flex; flex-direction:column; gap:16px; }
.names { font-size:1.6rem; font-weight:600; color:#9d1745; }
h1 { margin:0; font-size:2.1rem; }
.subtitle { opacity:.85; }
.buttons { position:relative; height:120px; }
button { border:none; border-radius:30px; padding:14px 34px; font-size:1.05rem; cursor:pointer; font-weight:600; }
#yesBtn { background:var(--accent); color:white; position:absolute; left:50%; bottom:0; transform:translateX(-50%); box-shadow:0 10px 25px rgba(255,105,135,.45); }
#noBtn { background:#ffe0ea; color:#9d1745; position:absolute; top:0; left:0; }
.tease { min-height:26px; font-style:italic; color:#9d1745; }

/* PAGE 2 */
.memory { flex-direction:column; gap:16px; padding:20px; text-align:center; }
.yesConfirm { font-size:2rem; font-weight:800; color:var(--accent-dark); animation:pulse 2.2s ease-in-out infinite; margin-bottom:20px; }
@keyframes pulse {0%,100%{transform:scale(1);}50%{transform:scale(1.08);}}
#slideshow { position:relative; width:90%; max-width:1200px; height:600px; margin:auto; overflow:hidden; border-radius:16px; box-shadow:0 16px 40px rgba(0,0,0,0.25); background:#000;}
#slideshow img { width:100%; height:100%; object-fit:contain; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); opacity:0; transition: opacity 1.5s ease-in-out; }
#slideshow img.active { opacity:1; }
#memoryLaneTitle { font-family:'Sacramento',cursive; font-size:2rem; margin-top:20px; opacity:0; transition: opacity 1.5s; }
.reel { width:100%; overflow-x:auto; display:none; gap:16px; margin-top:20px; padding:20px 0; white-space:nowrap; cursor:grab; }
.reel img { width:200px; height:250px; object-fit:cover; border-radius:16px; cursor:zoom-in; display:inline-block; transform-origin: top center; animation: swing 3s ease-in-out infinite; }
@keyframes swing { 0%{transform:rotate(-5deg);}50%{transform:rotate(5deg);}100%{transform:rotate(-5deg);}}

/* PAGE 3 */
.final { flex-direction:column; gap:18px; text-align:center; }
.handwritten { font-family:'Sacramento',cursive; color:#9d2845; text-align:center; }
.forever { opacity:0; transition:1.8s; font-style:italic; }
.forever.show { opacity:1; }

/* Floating elements */
.floating { position:fixed; top:-40px; pointer-events:none; z-index:80; animation-name:floatDrift; animation-timing-function:linear; animation-fill-mode:forwards; }
@keyframes floatDrift {0%{transform:translate(0,0) rotate(0deg);opacity:0.9;}25%{transform:translate(15px,25vh) rotate(20deg);}50%{transform:translate(-10px,50vh) rotate(-15deg);}75%{transform:translate(10px,75vh) rotate(10deg);}100%{transform:translate(0,100vh) rotate(360deg);opacity:0;}}

/* Fireworks */
.firework { position:fixed; font-size:28px; pointer-events:none; animation:boom 1.5s ease-out forwards; z-index:120; color:var(--heart-light); }
@keyframes boom {0%{transform:scale(0.2);opacity:0.8}70%{transform:scale(2.5);opacity:0.8}100%{transform:scale(3.5);opacity:0;}}

/* Fullscreen overlay */
.fullscreen { position:fixed; inset:0; background:rgba(0,0,0,.9); display:none; justify-content:center; align-items:center; z-index:999; cursor:pointer; }
.fullscreen img { max-width:90%; max-height:90%; border-radius:18px; box-shadow:0 16px 40px rgba(0,0,0,0.5); transform: scale(0.8); opacity:0; transition: transform 0.4s ease, opacity 0.4s ease; }
.fullscreen.show img { transform: scale(1); opacity:1; }
</style>
</head>
<body>

<!-- AUDIO -->
<audio id="music1" src="music/music1.mp3" loop></audio>
<audio id="music3" src="music/music3.mp3" loop></audio>
<audio id="music2" src="music/music2.mp3" loop></audio>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <div class="card">
    <div class="names" id="typed"></div>
    <h1>Will you be my Valentine? ğŸ’˜</h1>
    <div class="subtitle">Iâ€™ve been wanting to ask you thisâ€¦</div>
    <div class="buttons">
      <button id="noBtn">NO ğŸ™ˆ</button>
      <button id="yesBtn">YES ğŸ’–</button>
    </div>
    <div class="tease" id="tease"></div>
  </div>
</div>

<!-- PAGE 2 -->
<div class="page memory" id="page2">
  <div class="yesConfirm">ğŸ’– Yay! You Said Yes!</div>
  <h1 id="page2Title">Our Beautiful Memories ğŸ’</h1>
  <div id="slideshow">
    <img src="img/img1.jpg" class="active">
    <img src="img/img2.jpg">
    <img src="img/img3.jpg">
    <img src="img/img4.jpg">
    <img src="img/img5.jpg">
  </div>
  <div id="memoryLaneTitle">Our Memory Lane ğŸ’–</div>
  <div class="reel" id="reel">
    <img src="img/img11.jpg">
    <img src="img/img12.jpg">
    <img src="img/img13.jpg">
  </div>
  <button onclick="goFinal()">One last thingâ€¦ ğŸ’Œ</button>
</div>

<!-- PAGE 3 -->
<div class="page final" id="page3">
  <p id="loveMsg" class="handwritten" style="font-size:2rem;margin-bottom:15px;"></p>
  <img src="img/img10.jpg" id="finalImg" style="opacity:0;transition:opacity 2s;width:400px;max-width:85%;border-radius:24px;cursor:pointer;box-shadow:0 18px 40px rgba(255,105,135,.35);" onclick="revealForever()">
  <p id="secondMsg" class="handwritten" style="margin-top:15px;font-size:1.8rem;opacity:0;">This was the moment everything began ğŸ’«<br>And Iâ€™d choose you all over again.</p>
  <p id="foreverMsg" class="forever handwritten" style="font-size:1.9rem;margin-top:10px;text-align:center;">Forever was an easy choiceâ€¦ it was always you ğŸ’</p>
</div>

<!-- Fullscreen -->
<div class="fullscreen" id="fullscreen"><img id="fullscreenImg"></div>

<script>
// ======== ELEMENTS ========
const page1El = document.getElementById("page1");
const page2El = document.getElementById("page2");
const page3El = document.getElementById("page3");
const yesBtnEl = document.getElementById("yesBtn");
const noBtnEl = document.getElementById("noBtn");
const typedEl = document.getElementById("typed");
const teaseEl = document.getElementById("tease");
const loveMsg = document.getElementById("loveMsg");
const finalImg = document.getElementById("finalImg");
const secondMsg = document.getElementById("secondMsg");
const foreverMsg = document.getElementById("foreverMsg");
const reel = document.getElementById("reel");

// ======== PAGE TYPING ========
const typedText="Rishabh ğŸ’– Hemanginee";
let i=0;
(function type(){ if(i<typedText.length){ typedEl.textContent+=typedText[i++]; setTimeout(type,120); }})();

// ======== NO BUTTON ========
const lines=["Are you sure? ğŸ’˜","Button has commitment issues ğŸ˜‚","My heart says YES ğŸ’–","I believe in you âœ¨","Oops ğŸ˜ try again","Wrong choice ğŸ˜Œ"];
let l=0;
function moveNo(){ 
  const box=document.querySelector(".buttons"); 
  noBtnEl.style.left=Math.random()*(box.clientWidth-90)+"px"; 
  noBtnEl.style.top=Math.random()*(box.clientHeight-40)+"px"; 
  teaseEl.textContent=lines[l++%lines.length]; 
}
noBtnEl.onmouseenter=moveNo;
noBtnEl.ontouchstart=moveNo;

// ======== MUSIC ========
const music1 = document.getElementById("music1");
const music3 = document.getElementById("music3");
const music2 = document.getElementById("music2");

page1El.addEventListener("click", function playMusic1Once() {
  music1.play().catch(()=>{});
  page1El.removeEventListener("click", playMusic1Once);
});

// ======== YES BUTTON ========
yesBtnEl.onclick = ()=>{
  page1El.classList.remove("active");
  page2El.classList.add("active");
  music1.pause(); music1.currentTime=0;
  music3.play();
  launchPage2Petals();
  startSlideshow();
  launchCelebration();
};

// ======== SLIDESHOW ========
function startSlideshow(){
  const slides = document.querySelectorAll("#slideshow img");
  slides.forEach(img=>img.style.opacity=0);
  slides[0].style.opacity=1;
  let idx=0;
  const interval=setInterval(()=>{
    slides[idx].style.opacity=0;
    idx++;
    if(idx>=slides.length){ clearInterval(interval); return; }
    slides[idx].style.opacity=1;
  },3500);
}

// ======== FLOATING ELEMENTS ========
function floatingElements(pageEl, icons, minSize=20, maxSize=30, duration=[6,12]){
  setInterval(()=>{
    if(pageEl.classList.contains("active")){
      const f=document.createElement("div"); f.className="floating"; 
      f.textContent=icons[Math.floor(Math.random()*icons.length)];
      f.style.left=Math.random()*100+"vw";
      f.style.fontSize=(minSize+Math.random()*(maxSize-minSize))+"px";
      f.style.animationDuration=(duration[0]+Math.random()*(duration[1]-duration[0]))+"s";
      pageEl.appendChild(f); setTimeout(()=>f.remove(),12000);
    }
  },400);
}
floatingElements(page1El, ["ğŸ’–","ğŸ’˜","ğŸ’œ","ğŸŒ¹","ğŸŒ¸","âœ¨"]);
function launchPage2Petals(){ floatingElements(page2El, ["ğŸŒ¹"],24,44,[6,12]); }
function launchPage3Flowers(){ floatingElements(page3El, ["ğŸ’œ","ğŸ¤","ğŸŒ¹","ğŸŒ¼"],22,48,[6,12]); }
launchPage3Flowers();

// ======== FIREWORKS ========
function launchCelebration(){
  const rainIcons=["ğŸ’–","ğŸ’˜","ğŸ’œ","ğŸŒ¹","ğŸŒ¸","âœ¨"];
  for(let i=0;i<12;i++){
    const f=document.createElement("div"); f.className="firework"; 
    f.textContent=rainIcons[Math.floor(Math.random()*rainIcons.length)];
    f.style.left=Math.random()*100+"vw"; f.style.top=Math.random()*100+"vh"; 
    page2El.appendChild(f);
    setTimeout(()=>f.remove(),1500);
  }
}

// ======== PAGE 3 LOVE ========
const loveText="I Love You my Bacha .... Not just today, but every single day that follows ğŸ’˜";
let li=0;
function typeLoveMsg(){
  if(li<loveText.length){ loveMsg.textContent+=loveText[li++]; setTimeout(typeLoveMsg,80);}
  else{ finalImg.style.opacity=1; setTimeout(()=>{ secondMsg.style.opacity=1; },2000); }
}

function goFinal(){
  page2El.classList.remove("active");
  page3El.classList.add("active");
  music3.pause(); music2.play();
  typeLoveMsg();
}

function revealForever(){ foreverMsg.classList.add("show"); }

// ======== SMOOTH BACKGROUND COLOR CHANGE ========
const pagesAll = [page1El, page2El, page3El];
const bgColors = ["#fff6fa","#ffe0ea","#fff0f5","#ffe4ec","#ffd6e8"];
let colorIndex=0;
setInterval(()=>{
  pagesAll.forEach(p=>{ p.style.transition="background 0.5s ease"; p.style.background=bgColors[colorIndex]; });
  colorIndex = (colorIndex + 1) % bgColors.length;
},2000);

</script>
</body>
</html>

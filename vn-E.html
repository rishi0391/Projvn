<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Always You üíò</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Sacramento&display=swap" rel="stylesheet">
<style>
:root{
  --card:#fff6fa;
  --accent:#ff8fab;
  --accent-dark:#e11d48;
  --text:#7a2845;
  --heart-light:#ffbad0;
}
*{box-sizing:border-box}
body{margin:0;font-family:'Poppins',sans-serif;color:var(--text);overflow:hidden;}
.page{position:absolute;inset:0;display:none;justify-content:center;align-items:center;transition: background 2s ease;}
.page.active{display:flex;flex-direction:column;}

/* ---------- PAGE 1 ---------- */
.card{background:var(--card);padding:32px 42px;border-radius:28px;width:95%;max-width:620px;text-align:center;box-shadow:0 30px 60px rgba(255,105,135,.25);display:flex;flex-direction:column;gap:16px;}
.names{font-size:1.6rem;font-weight:600;color:#9d174d;}
h1{margin:0;font-size:2.1rem;}
.subtitle{opacity:.85;}
.buttons{position:relative;height:120px;}
button{border:none;border-radius:30px;padding:14px 34px;font-size:1.05rem;cursor:pointer;font-weight:600;}
#yesBtn{background:var(--accent);color:white;position:absolute;left:50%;bottom:0;transform:translateX(-50%);box-shadow:0 10px 25px rgba(255,105,135,.45);}
#noBtn{background:#ffe0ea;color:#9d174d;position:absolute;top:0;left:0;}
.tease{min-height:26px;font-style:italic;color:#9d174d;}

/* ---------- PAGE 2 ---------- */
.memory{flex-direction:column;gap:16px;padding:20px;text-align:center;}
.yesConfirm{font-size:2rem;font-weight:800;color:var(--accent-dark);animation:pulse 2.2s ease-in-out infinite;margin-bottom:20px;}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.08)}}

/* Theater-style slideshow */
#slideshow{position:relative;width:90%;max-width:1200px;height:600px;margin:auto;overflow:hidden;border-radius:16px;box-shadow:0 16px 40px rgba(0,0,0,0.25);background:#000;}
#slideshow img{width:100%;height:100%;object-fit:contain;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:0;transition: opacity 1.5s ease-in-out;}
#slideshow img.active{opacity:1;}

/* Reel / Memory Lane */
#memoryLaneTitle{
  font-family:'Sacramento',cursive;
  font-size:2.3rem;
  margin:20px 0;
  display:none;
}
.reel{width:100%;overflow-x:auto;display:none;flex-wrap:nowrap;gap:18px;padding-bottom:20px;}
.reel img{width:200px;height:250px;object-fit:cover;border-radius:16px;cursor:zoom-in;transform-origin:top center;transition:transform 0.4s ease;}

/* ---------- PAGE 3 ---------- */
.final{flex-direction:column;gap:18px;text-align:center;}
.fade{opacity:0;transform:translateY(16px);transition:4s ease;}
.fade.show{opacity:1;transform:translateY(0);}
.handwritten{font-family:'Sacramento',cursive;color:#9d174d;text-align:center;}
.forever{opacity:0;transition:1.8s;font-style:italic;}
.forever.show{opacity:1;}

/* ---------- Floating elements ---------- */
.floating{position:fixed;top:-40px;pointer-events:none;z-index:80;animation-name:floatDrift;animation-timing-function:linear;animation-fill-mode:forwards;}
@keyframes floatDrift{0%{transform:translate(0,0) rotate(0deg);opacity:0.9;}25%{transform:translate(15px,25vh) rotate(20deg);}50%{transform:translate(-10px,50vh) rotate(-15deg);}75%{transform:translate(10px,75vh) rotate(10deg);}100%{transform:translate(0,100vh) rotate(360deg);opacity:0;}}

/* ---------- FIREWORKS (lighter hearts) ---------- */
.firework{position:fixed;font-size:28px;pointer-events:none;animation:boom 1.5s ease-out forwards;z-index:120;color:var(--heart-light);}
@keyframes boom{0%{transform:scale(0.2);opacity:0.8}70%{transform:scale(2.5);opacity:0.8}100%{transform:scale(3.5);opacity:0}}

/* ---------- Fullscreen overlay ---------- */
.fullscreen{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.9);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:999;
  cursor:pointer;
}
.fullscreen img{
  max-width:90%;
  max-height:90%;
  border-radius:18px;
  box-shadow:0 16px 40px rgba(0,0,0,0.5);
  transform: scale(0.8);
  opacity:0;
  transition: transform 0.4s ease, opacity 0.4s ease;
}
.fullscreen.show img{
  transform: scale(1);
  opacity:1;
}
</style>
</head>
<body>

<!-- Audio -->
<audio id="music1" src="music/music1.mp3" loop></audio>
<audio id="music3" src="music/music3.mp3" loop></audio>

<!-- PAGE 1 -->
<div class="page active" id="page1">
  <div class="card">
    <div class="names" id="typed"></div>
    <h1>Will you be my Valentine? üíò</h1>
    <div class="subtitle">I‚Äôve been wanting to ask you this‚Ä¶</div>
    <div class="buttons">
      <button id="noBtn">NO üôà</button>
      <button id="yesBtn">YES üíñ</button>
    </div>
    <div class="tease" id="tease"></div>
  </div>
</div>

<!-- PAGE 2 -->
<div class="page memory" id="page2">
  <div class="yesConfirm">üíñ Yay! You Said Yes!</div>
  <h1 id="slideshowTitle">Our Beautiful Memories üíû</h1>

  <!-- Slideshow -->
  <div id="slideshow">
    <img src="img/img1.jpg" class="active">
    <img src="img/img2.jpg">
    <img src="img/img3.jpg">
    <img src="img/img4.jpg">
    <img src="img/img5.jpg">
    <img src="img/img6.jpg">
    <img src="img/img7.jpg">
    <img src="img/img8.jpg">
    <img src="img/img9.jpg">
  </div>

  <!-- Memory Lane (hanging pics) -->
  <div id="memoryLaneTitle">Our Memory Lane üíñ</div>
  <div class="reel" id="reel">
  	<img src="img/img11.jpg">
    <img src="img/img12.jpg">
    <img src="img/img13.jpg">
    <img src="img/img14.jpg">
    <img src="img/img15.jpg">
    <img src="img/img16.jpg">
    <img src="img/img17.jpg">
    <img src="img/img1.jpg">
    <img src="img/img2.jpg">
    <img src="img/img3.jpg">
    <img src="img/img4.jpg">
    <img src="img/img5.jpg">
    <img src="img/img6.jpg">
    <img src="img/img7.jpg">
    <img src="img/img8.jpg">
    <img src="img/img9.jpg">

  </div>

  <button onclick="goFinal()">One last thing‚Ä¶ üíå</button>
</div>

<!-- PAGE 3 -->
<div class="page final" id="page3">
  <p id="loveMsg" class="handwritten" style="font-size:2rem;margin-bottom:15px;"></p>
  <img src="img/img10.jpg" id="finalImg" style="opacity:0;transition:opacity 2s;width:400px;max-width:85%;border-radius:24px;cursor:pointer;box-shadow:0 18px 40px rgba(255,105,135,.35);" onclick="revealForever()">
  <p id="secondMsg" class="handwritten" style="margin-top:15px;font-size:1.8rem;opacity:0;">This was the moment everything began üí´<br>And I‚Äôd choose you all over again.</p>
  <p id="foreverMsg" class="forever handwritten" style="font-size:1.9rem;margin-top:10px;text-align:center;">Forever was an easy choice‚Ä¶ it was always you üíê</p>
</div>

<!-- Fullscreen overlay -->
<div class="fullscreen" id="fullscreen">
  <img id="fullscreenImg">
</div>

<script>
// ---------- PAGE 1 ----------
const typedText="Rishabh üíñ Hemanginee"; let i=0;
(function type(){ if(i<typedText.length){ typed.textContent+=typedText[i++]; setTimeout(type,120); }})();

const lines=["Are you sure about that? üíò","That button has commitment issues üòÇ","My heart says YES üíñ","I believe in you ‚ú®","Oops üòè try again","Wrong choice üòå"];
let l=0;
function moveNo(){ const box=document.querySelector(".buttons"); noBtn.style.left=Math.random()*(box.clientWidth-90)+"px"; noBtn.style.top=Math.random()*(box.clientHeight-40)+"px"; tease.textContent=lines[l++%lines.length]; }
noBtn.onmouseenter=moveNo; noBtn.ontouchstart=moveNo;

// ---------- AUDIO ----------
const music1 = document.getElementById("music1");
const music3 = document.getElementById("music3");

// Start music1 on first interaction
function startMusic1(){
  music1.play().catch(e=>console.log("Autoplay blocked"));
  document.body.removeEventListener("click", startMusic1);
}
document.body.addEventListener("click", startMusic1);

// ---------- PAGE 2 ----------
const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const page3 = document.getElementById("page3");

const yesBtnEl = document.getElementById("yesBtn");
const slideshowEl = document.getElementById("slideshow");
const slideshowTitle = document.getElementById("slideshowTitle");
const memoryLaneTitle = document.getElementById("memoryLaneTitle");
const reelEl = document.getElementById("reel");

// Hide memory lane initially
memoryLaneTitle.style.display = "none";
reelEl.style.display = "none";

yesBtnEl.onclick = () => {
  page1.classList.remove("active");
  page2.classList.add("active");

  // Stop music1, start music3
  music1.pause();
  music1.currentTime = 0;
  music3.play().catch(e=>console.log("music3 autoplay blocked"));

  launchCelebration();
  startSlideshow();
  launchPetals();
};

// ---------- SLIDESHOW ----------
function startSlideshow(){
  const slides = document.querySelectorAll("#slideshow img");
  slides.forEach(img=>img.style.opacity=0);
  let idx=0;
  slides[idx].style.opacity=1;
  const interval = setInterval(()=>{
    slides[idx].style.opacity=0;
    idx++;
    if(idx>=slides.length){
      clearInterval(interval);
      slideshowEl.style.display="none";
      slideshowTitle.style.display="none";
      memoryLaneTitle.style.display="block";
      reelEl.style.display="flex";
      return;
    }
    slides[idx].style.opacity=1;
  },3500);
}

// ---------- HANGING IMAGE FULLSCREEN ----------
const fullscreen = document.getElementById("fullscreen");
const fullscreenImg = document.getElementById("fullscreenImg");
document.querySelectorAll(".reel img").forEach(img=>{
  img.addEventListener("click", e=>{
    e.stopPropagation();
    fullscreenImg.src=img.src;
    fullscreen.style.display="flex";
    setTimeout(()=>fullscreen.classList.add("show"),10);
  });
});
fullscreen.addEventListener("click", e=>{
  if(e.target===fullscreen||e.target===fullscreenImg){
    fullscreen.classList.remove("show");
    setTimeout(()=>fullscreen.style.display="none",400);
  }
});

// ---------- FLOATING PETALS ----------
function launchPetals(){
  const petals=["üåπ"];
  setInterval(()=>{
    const p = document.createElement("div");
    p.className="floating";
    p.textContent = petals[Math.floor(Math.random()*petals.length)];
    p.style.left = Math.random()*100+"vw";
    p.style.fontSize = (24+Math.random()*20)+"px";
    p.style.animationDuration = (6+Math.random()*6)+"s";
    page2.appendChild(p);
    setTimeout(()=>p.remove(),12000);
  },400);
}

// ---------- PAGE 3 FLOWERS ----------
function launchPage3Flowers(){
  const flowers=["üíú","ü§ç","üåπ","üåº"];
  setInterval(()=>{
    const f = document.createElement("div");
    f.className="floating";
    f.textContent = flowers[Math.floor(Math.random()*flowers.length)];
    f.style.left = Math.random()*100+"vw";
    f.style.fontSize = (22+Math.random()*28)+"px";
    f.style.animationDuration = (6+Math.random()*6)+"s";
    page3.appendChild(f);
    setTimeout(()=>f.remove(),12000);
  },400);
}

// ---------- FINAL PAGE ----------
const loveText="I Love You my Bacha .... Not just today, but every single day that follows üíò";
const loveMsg=document.getElementById("loveMsg");
const finalImg=document.getElementById("finalImg");
const secondMsg=document.getElementById("secondMsg");
const foreverMsg=document.getElementById("foreverMsg");
let li=0;
function typeLoveMsg(){
  if(li<loveText.length){
    loveMsg.textContent+=loveText[li++];
    setTimeout(typeLoveMsg,80);
  } else {
    finalImg.style.opacity=1;
    setTimeout(()=>{ secondMsg.style.transition="opacity 2s"; secondMsg.style.opacity=1; },2000);
  }
}
function goFinal(){
  page2.classList.remove("active");
  page3.classList.add("active");
  typeLoveMsg();
  launchPage3Flowers();
}
function revealForever(){foreverMsg.classList.add("show");}

// ---------- CELEBRATION ----------
function launchCelebration(){
  const rainIcons=["üíñ","üíò","üíú","üåπ","üå∏","‚ú®"];
  const fw = setInterval(()=>{
    const f = document.createElement("div");
    f.className="firework";
    f.textContent = "üíñ";
    f.style.left=Math.random()*100+"vw";
    f.style.top=Math.random()*60+"vh";
    document.body.appendChild(f);
    setTimeout(()=>f.remove(),1500);
  },220);
  const rain = setInterval(()=>{
    const r = document.createElement("div");
    r.className="floating";
    r.textContent = rainIcons[Math.floor(Math.random()*rainIcons.length)];
    r.style.left=Math.random()*100+"vw";
    r.style.fontSize=(18+Math.random()*22)+"px";
    r.style.animationDuration=(4+Math.random()*3)+"s";
    r.style.color="var(--heart-light)";
    document.body.appendChild(r);
    setTimeout(()=>r.remove(),8000);
  },120);
  setTimeout(()=>{ clearInterval(fw); clearInterval(rain); },5000);
}
</script>
</body>
</html>
